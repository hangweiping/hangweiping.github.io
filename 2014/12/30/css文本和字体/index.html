<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="css," />





  <link rel="alternate" href="/atom.xml" title="活着" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="字体是“文字的不同体式”或者“字的形体结构”。对于英文而言，每种字体都是由一组具有独特样式的字母、数字和符号组成的。根据外观，字体可以分为不同的类别（font collection），包括衬线字体（serif）、无衬线字体（sans-serif）和等宽字体（monospace）。每一类字体可以分成不同的字体族（font family），比如 Times 和 Helvetica。而字体族中又可以包含">
<meta property="og:type" content="article">
<meta property="og:title" content="css文本和字体">
<meta property="og:url" content="http://hangweiping.github.io/2014/12/30/css文本和字体/index.html">
<meta property="og:site_name" content="活着">
<meta property="og:description" content="字体是“文字的不同体式”或者“字的形体结构”。对于英文而言，每种字体都是由一组具有独特样式的字母、数字和符号组成的。根据外观，字体可以分为不同的类别（font collection），包括衬线字体（serif）、无衬线字体（sans-serif）和等宽字体（monospace）。每一类字体可以分成不同的字体族（font family），比如 Times 和 Helvetica。而字体族中又可以包含">
<meta property="og:updated_time" content="2016-06-10T02:43:34.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="css文本和字体">
<meta name="twitter:description" content="字体是“文字的不同体式”或者“字的形体结构”。对于英文而言，每种字体都是由一组具有独特样式的字母、数字和符号组成的。根据外观，字体可以分为不同的类别（font collection），包括衬线字体（serif）、无衬线字体（sans-serif）和等宽字体（monospace）。每一类字体可以分成不同的字体族（font family），比如 Times 和 Helvetica。而字体族中又可以包含">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://hangweiping.github.io/2014/12/30/css文本和字体/"/>

  <title> css文本和字体 | 活着 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">活着</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                css文本和字体
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-12-30T16:15:32+08:00" content="2014-12-30">
              2014-12-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/CSS/" itemprop="url" rel="index">
                    <span itemprop="name">CSS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/12/30/css文本和字体/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/12/30/css文本和字体/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>字体是“文字的不同体式”或者“字的形体结构”。对于英文而言，每种字体都是由一组具有独特样式的字母、数字和符号组成的。根据外观，字体可以分为不同的类别（font collection），包括衬线字体（serif）、无衬线字体（sans-serif）和等宽字体（monospace）。每一类字体可以分成不同的字体族（font family），比如 Times 和 Helvetica。而字体族中又可以包含不同的字型（font face），反映了相应字体族基本设计的不同变化，例如 Times Roman、 Times Bold、 Helvetica Condensed 和 Bodoni italic。CSS字体属性主要描述一类字体的大小和外观，比如：使用什么字体族（是 Times，还是 Helvitica），多大字号，粗体还是斜体。</p>
<a id="more"></a>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">font</span>-maily：字体簇</div><div class="line"><span class="built_in">font</span>-<span class="built_in">size</span>：字体大小</div><div class="line"><span class="built_in">font</span>-weight：字体粗细</div><div class="line"><span class="built_in">font</span>-style：字体样式</div><div class="line"><span class="built_in">font</span>-<span class="built_in">variant</span>：字体变化</div><div class="line"><span class="built_in">font</span>：字体简写</div><div class="line">字体簇</div></pre></td></tr></table></figure>
<p>font-family 用于设定元素中的文本使用什么字体，具体用法参考 font-family ，其常见应用和问题如下：</p>
<h3 id="字体来源"><a href="#字体来源" class="headerlink" title="字体来源"></a>字体来源</h3><p>用户机器中安装的字体；<br>保存在第三方网站上的字体，如：Typeket和Google Fonts<br>保存在自身Web服务器上的字体，这些字体通过@font-face引入；  </p>
<h3 id="继承性"><a href="#继承性" class="headerlink" title="继承性"></a>继承性</h3><p>font-family是可以继承的属性，因此它的值会遗传给所有后代元素。在实际应用font-family的时候，应该给整个页面设定一种主字体，然后只对那些需要使用不同字体的元素再应用 font-family。要为整个页面指定字体，可以设定 body 元素的 font-family 属性。  </p>
<h3 id="字体栈"><a href="#字体栈" class="headerlink" title="字体栈"></a>字体栈</h3><p>每种操作系统自带的字体不多，而且用户随时会安装和删除字体，因此不敢保证一定能应用某种字体来显示网页。为此，在指定文本的字体时，需要多列出几种后备字体，以防第一种字体无效。这个列表也叫字体栈，例如： body {font-family:”trebuchet ms”, tahoma, sans-serif;} 。注意，字体栈的最后一项要指定一个通用的字体类，如： sans-serif 。通用的字体类有：<br>serif：衬线字体，字符笔画的末端会有一些装饰线；<br>sans-serif：无衬线字体，字符笔画的末端没有装饰线；<br>monospace：等宽字体，每个字符的宽度相等（也称代码体）；<br>cursive：草书体或手写体；<br>fantasy：不能归入其他类别的字体（一般都是奇形怪状的字体）。  </p>
<h3 id="字体搭配"><a href="#字体搭配" class="headerlink" title="字体搭配"></a>字体搭配</h3><p>常见搭配<br>verdana, tahoma, sans-serif<br>helvetica, arial, sans-serif</p>
<p>如果字体名像 Trebuchet MS 一样多于一个单词（有空格），应该加上引号<br>font-family 的值（字体名）不区分大小写</p>
<h3 id="字体大小"><a href="#字体大小" class="headerlink" title="字体大小"></a>字体大小</h3><p>浏览器样式表默认为每个 HTML 元素都设定了 font-size，因此你在设定 font-size 的时候，其实是在修改默认值。由于字体大小在标记层次中是可以继承的，假如你对使用的字体大小单位怎么影响继承不十分了解，那很容易碰到有些字体莫名其妙变大或变小的问题。字体的具体用法可以参考 font-size ，常见应用和问题如下：</p>
<p>字体大小的默认值：16px<br>绝对单位 VS 相对单位</p>
<ul>
<li>绝对单位：<br>简介：使用像素、派卡（pica）或英寸设定字体大小，另外<br>优点：实际字体设定多大就多大，与祖先元素的字体大小无关。<br>缺点：在需要调整页面所有元素的字体大小时，必须一个一个地修改样式表中的 font-size，相当麻烦。<br>其他：设定绝对字体大小时，也可以使用关键字值，比如：x-small、medium、x-large等。具体可参考 Using_Keywords</li>
<li>相对单位<br>简介：使用百分比、 em 或 rem（根元素的字体大小）设定字体大小。<br>优点：使用相对大小后，通过调整 body 元素的字体大小，可以成比例地改变所有元素的字体大小。或者，至少能通过改变某个祖先元素，只影响它的所有子元素。在反复修改布局设计的时候，这样显然能节省时间<br>缺点：可能会出现意外的“连锁反应”<br>其他：设定相对字体大小时，也可以使用关键字值，比如：smaller、larger。</li>
<li>使用rem<br>简介：rem(root em)是CSS3新增的字体大小单位，也是相对单位，但rem是相对于HTML根元素的单位。<br>优点：既可以做到只修改根元素就成比例地调整所有字体大小，又可以避免字体大小逐层复合的连锁反应。<br>缺点：存在浏览器兼容性问题，除了 IE8 及更早版本外，所有浏览器均已支持rem。<br>实际应用：对于不支持它的浏览器，需要多写一个绝对单位的声明，例如： p {font-size:14px; font-size:.875rem;}<br>浏览器缩放与字体大小调整对字体大小的影响<br>浏览器缩放：整体调整<br>字体大小调整：相对单位调整，绝对单位不变</li>
</ul>
<h2 id="字体样式"><a href="#字体样式" class="headerlink" title="字体样式"></a>字体样式</h2><p>字体样式默认是正体，也可以是斜体，具体用法参考 font-style 。在实际应用中，英文中的斜体主要表示强调，如果是为了表示强调设置font-style，那么在在 HTML 标记中直接使用 <em> 标签即可。</em></p>
<h3 id="字体粗细"><a href="#字体粗细" class="headerlink" title="字体粗细"></a>字体粗细</h3><p>字体粗体的主要作用是表示重要，具体用法参考 font-weight 。<br>在实际应用中，由于浏览器对font-weight的数字值实现各不相同，所以从常规字体到粗体的切换可能发生在不同的数值上——通常是 400。所以，对于font-weight属性来说，最好只用 bold 和 normal 这两个值。<br>此外，HTML 元素 strong 也表示重要，而它的默样式就是粗体，如果要突出文本中的某一个字或次，请使用strong。  </p>
<h3 id="字体变化"><a href="#字体变化" class="headerlink" title="字体变化"></a>字体变化</h3><p>font-variant属性除了normal，就只有一个值，即 small-caps——导致所有小写英文字母变成小型大写字母，具体用法请参考 font-variant</p>
<h3 id="属性简写"><a href="#属性简写" class="headerlink" title="属性简写"></a>属性简写</h3><p>font 属性是一个简写形式，通过它只要一条 CSS 声明就可以设定所有字体属性，例如： p {font: bold italic small-caps .9em helvetica, arial, sans-serif;} 。具体规则如下：</p>
<p>必须声明 font-size 和 font-family 的值<br>所有值必须按如下顺序声明：<br>font-weight、 font-style、 font-variant 不分先后；<br>然后是 font-size；<br>然后是 font-size；<br>font属性除了用于字体属性的简写外，还可以给它指定一些特殊的值，如下所示：</p>
<p>caption：使用有标题的系统控件的文本字体（如按钮，菜单等）（CSS2）<br>icon：使用图标标签的字体（CSS2）<br>menu：使用菜单的字体（CSS2）<br>message-box：使用信息对话框的文本字体（CSS2）<br>small-caption：使用小控件的字体（CSS2）<br>status-bar：使用窗口状态栏的字体（CSS2）</p>
<p>font<br>其他属性</p>
<p>font-stretch<br>font-size-adjust</p>
<h2 id="Web字体"><a href="#Web字体" class="headerlink" title="Web字体"></a>Web字体</h2><p>Web字体指的是非用户机器中的字体。目前，可以通过使用@font-face规则在网页中嵌入Web字体，并且该功能已经得到了浏览器广泛支持。设定Web字体的方式如下所示：<br>使用Google Web Fonts或Adobe的Typekit等公共字体<br>以Google Web Fonts为例，访问 <a href="https://www.google.com/fonts" target="_blank" rel="external">https://www.google.com/fonts</a> ，找到想要的字体，单击“Add To Collection”，然后单击页面底部的 Use 按钮。Google 就会生成一个指向刚刚选定字体的 <link> 标签，直接把它复制粘贴到你的 HTML 文件中即可。例如： <link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto" rel="stylesheet" type="text/css"> ，在CSS中引用下载的字体： font-family: ‘Open Sans’, Roboto, sans-serif;</p>
<p>使用@font-face规则使用@font-face规则的前提是可以从网站或第三方Web服务器下载到相应的字体包，以这种方式提供的字体，会在使用该字体的页面第一次加载时被浏览器下载并缓存起来，以后就不用下载了。使用@font-face的一个问题是不同的浏览器要求的字体格式不同，具体如下所示：</p>
<p>Firefox/Safari/Chrome/IOS Safari4.1以上版本：OTF——OpeType，TTF——TrueType；<br>IE：EOT——Embedded Open Type；<br>IOS Safari4.1之前版本：SVG——Scalable Vector Graphics；<br>Font Squirrel 提供了很多现成的字体包，每个字体包中都包含所有必要格式的字体和为每款浏览器提供正确格式的 CSS 代码。另外，Font Squirrel还有一个转换程序，能够把你上传的字体转换成字体包。下面就是 Font Squirrel 为 Ubuntu Titling Bold 字体生成的@font-face 代码。对于其他来源的字体，这种格式也是适用的。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">font-face</span> &#123;</div><div class="line">  <span class="comment">/*这就是将来在字体栈中引用的字体族的名字*/</span></div><div class="line">  <span class="attribute">font-family</span>:<span class="string">'UbuntuTitlingBold'</span>;</div><div class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'UbuntuTitling-Bold-webfont.eot'</span>);</div><div class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'UbuntuTitling-Bold-webfont.eot?#iefix'</span>) <span class="built_in">format</span>(<span class="string">'embedded-opentype'</span>),</div><div class="line">    <span class="built_in">url</span>(<span class="string">'UbuntuTitling-Bold-webfont.woff'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>),</div><div class="line">    <span class="built_in">url</span>(<span class="string">'UbuntuTitling-Bold-webfont.ttf'</span>) <span class="built_in">format</span>(<span class="string">'truetype'</span>),</div><div class="line">    <span class="built_in">url</span>(<span class="string">'UbuntuTitling-Bold-webfont.svg#UbuntuTitlingBold'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>);</div><div class="line">  <span class="attribute">font-weight</span>: normal;</div><div class="line">  <span class="attribute">font-style</span>: normal;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Web字体的其他问题：</p>
<p>Web字体可能导致机器中出现同名字体，以至混淆。为此，Web专家Paul Irish写过一个跨跨浏览器@font-face 的“笑脸版”，详细内容请参考 bulletproof-font-face-implementation-syntax ；<br>需要深入入了解@font-face规则的话，可以参考 How to use @font-face ；<br>除非浏览器统一支持一种字体格式，否则必须面对多种字体格式并存问题。如何使用@font-face规则处理多种字体格式，以及保证Internet Explorer取得必要的.eot格式的字体，可以参考 fixing-ie9-font-face-problems 。</p>
<h2 id="文本是什么"><a href="#文本是什么" class="headerlink" title="文本是什么"></a>文本是什么</h2><p>文本就是一组字或字符，比如章标题、段落正文等等，跟使用什么字体无关。CSS文本属性描述对文本的处理方式，比如：行高或者字符间距多大，有没有下划线和缩进。常用的CSS文本属性如下所示：</p>
<p>text-indent<br>letter-spacing<br>word-spacing<br>text-decoration<br>text-align<br>line-height<br>text-transform<br>vertical-align</p>
<h3 id="文本缩进"><a href="#文本缩进" class="headerlink" title="文本缩进"></a>文本缩进</h3><p>text-indent属性设定行内盒子相对于包含元素的起点，具体用法参考 text-indent ，常见问题和注意点如下：</p>
<h3 id="行内盒子"><a href="#行内盒子" class="headerlink" title="行内盒子"></a>行内盒子</h3><p>CSS 会把元素中的文本放在一个不可见的盒子里，比如对 p 元素中的一段文本，CSS 将其视为很长的一行，只不过在遇到容器边界时会折行。例如：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">p</span> &#123;<span class="attribute">border</span>:<span class="number">3px</span> solid red;&#125;</div><div class="line"><span class="selector-tag">span</span> &#123;<span class="attribute">border</span>:<span class="number">1px</span> solid green;&#125;</div><div class="line">&lt;p&gt;&lt;span&gt;Here is <span class="selector-tag">a</span> long paragraph…&lt;/span&gt;&lt;/p&gt;</div></pre></td></tr></table></figure>
<p>总结：实际上缩进的是这个文本盒子的起点位置，后续的行是不会缩进的。如果需要缩进整个段落，可以使用margin或padding。</p>
<p>text-indent适用于块容器，包含inline-block；</p>
<p>text-indent是可继承的，且子元素获得的继承值并不是祖先元素设定的值，而是计算的值。示例代码如下：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.root</span> &#123;</div><div class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;    </div><div class="line">    <span class="attribute">text-indent</span>: <span class="number">30px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.root</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">span</span> &#123;</div><div class="line">    <span class="attribute">display</span>: inline-block;</div><div class="line">&#125;</div><div class="line">&lt;<span class="selector-tag">div</span> class=<span class="string">"root"</span>&gt;</div><div class="line">    &lt;span&gt;行内儿子节点&lt;/span&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">        &lt;span&gt;行内块级孙子节点&lt;/span&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<p>总结：这里没有使用百分比，所以子元素的继承值都是30px。但需要注意示例中的前后两个span，后一个span的缩进较前一个span较大，这是由于后一个span是行内块元素，继承的缩进值起作用了。</p>
<p>text-indent允许设定负值，注意配合padding或margin；  </p>
<h3 id="字符间距"><a href="#字符间距" class="headerlink" title="字符间距"></a>字符间距</h3><p>letter-spacing为正值时增大字符间距，为负值时缩小间距。无论设定字体大小时使用的是什么单位，设定字符间距一定要用相对单位，以便字间距能随字体大小同比例变化。具体用法请参考[letter-spacing]。( <a href="http://css.doyoe.com/properties/text/letter-spacing.htm" target="_blank" rel="external">http://css.doyoe.com/properties/text/letter-spacing.htm</a> )</p>
<h3 id="单词间距"><a href="#单词间距" class="headerlink" title="单词间距"></a>单词间距</h3><p>CSS把任何两边有空白的字符和字符串都视作“单词”，纯汉字文本一段之中没有空格，因此单词间距对中文网页几乎没有用，但对中英混排段落可能有用。单词间距属性具体用法请参考 word-spacing 。</p>
<h3 id="文本装饰"><a href="#文本装饰" class="headerlink" title="文本装饰"></a>文本装饰</h3><p>文本装饰有下划线、上划线、贯串线和闪烁等样式，具体用法可参考 text-decoration</p>
<h3 id="文本对齐"><a href="#文本对齐" class="headerlink" title="文本对齐"></a>文本对齐</h3><p>一般文本对齐方式有：左对齐/left、右对齐/right、居中对齐/center，以及两端对齐/justify，其中两端对齐是CSS3新增的属性。除此之外，CSS3还定义了一些额外的属性，但浏览器都不怎么支持，具体内容请参考 text-align 。</p>
<p>在实际应用中，如果对元素设置了文本对齐属性，而对子元素是如何显示存在疑惑时，只要根据一下规则去计算即可：</p>
<p>文本对齐属性只适用于块容器（包含行内块元素）；<br>文本对齐属性是可继承的<br>如果没有子元素，则文本内容直接根据父元素定义的对齐属性在父元素盒子里显示；<br>如果子元素是行内非块元素，将其当做文本内容处理（虽然该子元素会继承对齐属性，但是该属性不适用于行内非块元素）；<br>如果子元素是行内块元素，则该元素会按照父元素的文本对齐属性在父元素盒子里显示。此外，该元素会继承父元素的对齐属性，按照以上规则处理其子元素<br>如果子元素非行内块元素，则该元素会继承父元素的对齐属性，然后继续按照以上规则处理子元素；<br>行高</p>
<p>CSS 中的行高平均分布在一行文本的上方和下方，具体用法参考 line-height 。常见问题和注意点如下：</p>
<p>适用于所有元素，且可继承；<br>行高小于字体大小时，行与行之间会出现重叠；<br>实际应用时，要使用相对单位（百分比或乘积因子），避免使用绝对单位（如像素）——字体增大时，可能会出现行与行的重叠；<br>font快捷属性：以复合值的形式把 font-size 和 line-height 值写在一块，例如 div#intro {font:1.2em/1.4 helvetica, arial, sans-serif;} ；<br>文本行高为normal不代表就是1倍于字体大小<br>文本转换</p>
<p>文本转换属性用于转换元素中文本的大小写，它可以设定英文文本首字母大写、全部字母大写和全部字母小写。具体用法可参考 text-transform 。</p>
<h3 id="垂直对齐"><a href="#垂直对齐" class="headerlink" title="垂直对齐"></a>垂直对齐</h3><p>垂直对齐属性 vertical-align 以基线为参照上下移动文本， 具体用法参考 vertical-align 。常见问题和注意点：<br>垂直对齐属性只适用于行内元素；<br>HTML标签 <sup> 和 <sub> 有默认的上标和下标样式，但效果不是很好；<br>应用场景：公式或化学分子式中的上标和下标，文本中脚注的角标；</sub></sup></p>
<h3 id="其他属性"><a href="#其他属性" class="headerlink" title="其他属性"></a>其他属性</h3><p>white-space<br>tab-size<br>word-break<br>word-wrap<br>overflow-wrap<br>text-align-last<br>text-justify<br>text-size-adjust<br>最佳实战</p>
<p>虽然学习了字体和文本属性，但不一定能够在实际应用中搭配好字体和文本样式。文字排版讲求匀称，一般是由看不见的网格，框定页面文字的走向和布局，匀称的版式可以增强页面的可读性。</p>
<p>在线资源：</p>
<ul>
<li><a href="http://ilovetypography.com/" target="_blank" rel="external">http://ilovetypography.com/</a></li>
<li><a href="http://www.thinkingwithtype.com/" target="_blank" rel="external">http://www.thinkingwithtype.com/</a></li>
<li><a href="http://webtypography.net/" target="_blank" rel="external">http://webtypography.net/</a></li>
</ul>
<p>一、字体与文本</p>
<p>字体与文本的区别：</p>
<p>字体主要涉及文字的大小和外观（可应用于单个字符）。<br>文本主要涉及对字体的处理（只能应用于文本块）</p>
<p>二、指定字体</p>
<p>CSS中指定字体的最简单方式，就是使用五种通用的字体集合</p>
<p>serif ：该字体在字符笔画末端有叫做衬线的小细节（Time New Roman、Georgia、Palatino）<br>sans-serif：末端无任何细节（Trebuchet MS、Arial、Verdana）<br>monospace：每个字母宽度相等（例如，i与m具有相同的宽度），通常用于排版代码块或模仿打印效果<br>cursive：手写笔记，但是比手写效果要整洁（Comic Sans MS、Brush Script）<br>fantasy：不能归入其他种类的字体</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*指定通用字体，浏览器会选择默认的Helvetica或者Arial*/</span></div><div class="line"><span class="comment">/*font-family是一个可继承的属性，值会传递给所有的后代*/</span></div><div class="line"><span class="selector-tag">body</span> &#123;<span class="attribute">font-family</span>: sans-serif;&#125;</div><div class="line"></div><div class="line"><span class="comment">/*以首先字母为开头，以通用字体结束 */</span></div><div class="line"><span class="selector-tag">body</span>&#123;<span class="attribute">font-family</span>: <span class="string">"hoefler text"</span>,times,serif;&#125;</div></pre></td></tr></table></figure>
<p>三、设置字体大小</p>
<p>设置字体大小，可以使用三种类型的值：</p>
<p>绝对值：像素、英寸<br>相对值：百分比、em<br>运动衫尺码关键字：x-small、small、large、xx-large</p>
<p>使用相对大小字体的优点：</p>
<p>在文字大小中选择了更大或者更小之后，所有字体都能成比例地缩放<br>只需要改变body标签的字体大小，按比例改变文本的大小</p>
<p>使用相对大小字体的缺点</p>
<p>可能因字体大小的继承而导致极小字体的显示<br>用户很容易“破坏”没有考虑到文本缩放因素的CSS页面布局</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">    <span class="attribute">font-family</span>: verdana,arial,sans-serif;</div><div class="line">    <span class="comment">/*为字体设置了可以调准的基准大小,1em一般为16像素高*/</span></div><div class="line">    <span class="attribute">font-size</span>: <span class="number">1em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">h3</span>&#123;</div><div class="line">    <span class="comment">/*h3的默认大小为1.2em(19.2px)，重新设置为0.8em*/</span></div><div class="line">    <span class="attribute">font-size</span>: <span class="number">0.8em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*分别为ol和ul设置大小，而不是为li设置大小，方便后续自定义*/</span></div><div class="line"><span class="selector-tag">ol</span>&#123;<span class="attribute">font-size</span>: .<span class="number">75em</span>;&#125;</div><div class="line"><span class="selector-tag">ul</span>&#123;<span class="attribute">font-size</span>: .<span class="number">75em</span>;&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">a</span> &#123;<span class="attribute">font-size</span>: .<span class="number">7em</span>;&#125;</div><div class="line"><span class="comment">/*规定ul的子元素a从父元素中继承属性值（如果没有使用inherit，a的值就会变成0.75*0.7em，导致过小*/</span></div><div class="line"><span class="selector-tag">ul</span> <span class="selector-tag">a</span> &#123;<span class="attribute">font-size</span>: inherit;&#125;</div></pre></td></tr></table></figure>
<p>四、字体属性</p>
<p>font-style    定义文本的直立或倾斜    italic、normal、oblique<br>font-weight    定义文本的粗细    100、200、…、900、lighter、normal、bold、bolder<br>font-variant    转换成小型大写字母    small-caps、normal</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*font-style有两个作用：使字体倾斜，或者使倾斜的字体直立*/</span></div><div class="line"><span class="selector-tag">p</span> &#123;<span class="attribute">font-style</span>: italic;&#125;</div><div class="line"><span class="selector-tag">span</span> &#123;<span class="attribute">font-style</span>: normal;&#125;</div><div class="line"></div><div class="line"><span class="comment">/*加粗超链接的内容*/</span></div><div class="line"><span class="selector-tag">a</span>&#123;<span class="attribute">font-weight</span>: bold;&#125;</div><div class="line"></div><div class="line"><span class="comment">/*将h3标题转换为小型大写字母*/</span></div><div class="line"><span class="selector-tag">h3</span>&#123;<span class="attribute">font-variant</span>: small-caps;&#125;</div></pre></td></tr></table></figure>
<p>五、字体属性的简写</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">p</span> &#123;</div><div class="line">    <span class="comment">/*始终要保证声明font-size 和 font-family的值*/</span></div><div class="line">    <span class="comment">/*指定顺序：先指定font-weight、font-style、font-variant（任意顺序），然后依次指定font-size、font-family*/</span></div><div class="line">    <span class="attribute">font</span>:bold italic small-caps .<span class="number">75em</span> verdana, arial, sans-serif;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>六、CSS蛇形文本</p>
<p>CSS会把一个盒子放到位于元素中的文本周围，只在开头和结尾是闭合的<br>text-indent 只能缩进首行<br>要想缩进整个段落，需要使用margin-left将整个容器往右侧推动</p>
<p>七、文本属性</p>
<p>text-indent<br>缩进元素中文本的首行<br>任何长度值</p>
<p>vertical-align<br>相对于基准线将文本向上或者向下方移动<br>任何长度值、sup、sub、top、middle、bottom</p>
<p>letter-spacing<br>设置字符间距<br>任何长度值</p>
<p>word-spacing<br>设置字间距<br>任何长度值</p>
<p>text-decoration<br>向文本添加修饰<br>none、underline、overline、line-through、blink</p>
<p>text-align<br>使文本与包含元素对齐<br>left、right、center、justify</p>
<p>line-height<br>设置行高（行与行基准线之间的距离）<br>任何数字值（不需要指定单位）</p>
<p>text-transform<br>改变元素中文本的大小写形式<br>uppercase、lowercase、capitalize、none</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*缩进首行文本*/</span></div><div class="line"><span class="selector-tag">p</span> &#123;<span class="attribute">text-indent</span>: <span class="number">3em</span>;&#125;</div><div class="line"></div><div class="line"><span class="comment">/*为段落指定一个大于负缩进值的正左外边距，产生悬挂段落的效果*/</span></div><div class="line"><span class="selector-tag">p</span> &#123;</div><div class="line">    <span class="attribute">text-indent</span>: -<span class="number">1.5em</span>;</div><div class="line">    <span class="attribute">margin-left</span>: <span class="number">2em</span>;</div><div class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid red;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*设置字符间距*/</span></div><div class="line"><span class="selector-tag">p</span>&#123;</div><div class="line">    <span class="attribute">letter-spacing</span>: .<span class="number">2em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*设置单词间距*/</span></div><div class="line"><span class="selector-tag">p</span>&#123;</div><div class="line">    <span class="attribute">word-spacing</span>: .<span class="number">2em</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*去掉文本的下划线*/</span></div><div class="line"><span class="selector-tag">a</span>&#123;</div><div class="line">    <span class="attribute">text-decoration</span>: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*需要在包含元素上设置text-align属性，使其子元素内容对齐*/</span></div><div class="line"><span class="selector-tag">div</span> &#123;</div><div class="line">    <span class="attribute">text-align</span>: right;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*设置行高*/</span></div><div class="line"><span class="selector-tag">p</span>&#123;</div><div class="line">    <span class="attribute">line-height</span>: <span class="number">1.5</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">div</span><span class="selector-id">#intro</span> &#123;</div><div class="line">    <span class="comment">/*行高设置为字体的1.4倍*/</span></div><div class="line">    <span class="comment">/*行高比文本高出的部分，会再文本的上方和下方平均分配*/</span></div><div class="line">    <span class="attribute">font</span>:<span class="number">1.2em</span>/<span class="number">1.4</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/*将每个单词的首字母变成大写*/</span></div><div class="line"><span class="selector-tag">p</span>&#123;</div><div class="line">    <span class="attribute">text-transform</span>: capitalize;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">p</span>&#123;</div><div class="line">    <span class="attribute">vertical-align</span>: <span class="number">50%</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        
<div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/uploads/wechat.jpg" alt="hangweiping wechat" style="width: 200px; max-width: 100%;"/>
    <div>欢迎您扫一扫上面的微信公众号，订阅我的博客！</div>
</div>


      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>坚持原创技术分享，您的支持将鼓励我继续创作！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/uploads/zhifubao.jpg" alt="hangweiping Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/css/" rel="tag">#css</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2014/12/29/markdown语法/" rel="next" title="markdown语法">
                <i class="fa fa-chevron-left"></i> markdown语法
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/01/01/7大查找算法/" rel="prev" title="7大查找算法">
                7大查找算法 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2014/12/30/css文本和字体/"
           data-title="css文本和字体" data-url="http://hangweiping.github.io/2014/12/30/css文本和字体/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="hangweiping" />
          <p class="site-author-name" itemprop="name">hangweiping</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">20</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#字体来源"><span class="nav-number">1.</span> <span class="nav-text">字体来源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#继承性"><span class="nav-number">2.</span> <span class="nav-text">继承性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字体栈"><span class="nav-number">3.</span> <span class="nav-text">字体栈</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字体搭配"><span class="nav-number">4.</span> <span class="nav-text">字体搭配</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字体大小"><span class="nav-number">5.</span> <span class="nav-text">字体大小</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字体样式"><span class="nav-number"></span> <span class="nav-text">字体样式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字体粗细"><span class="nav-number">1.</span> <span class="nav-text">字体粗细</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字体变化"><span class="nav-number">2.</span> <span class="nav-text">字体变化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性简写"><span class="nav-number">3.</span> <span class="nav-text">属性简写</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Web字体"><span class="nav-number"></span> <span class="nav-text">Web字体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文本是什么"><span class="nav-number"></span> <span class="nav-text">文本是什么</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#文本缩进"><span class="nav-number">1.</span> <span class="nav-text">文本缩进</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#行内盒子"><span class="nav-number">2.</span> <span class="nav-text">行内盒子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符间距"><span class="nav-number">3.</span> <span class="nav-text">字符间距</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#单词间距"><span class="nav-number">4.</span> <span class="nav-text">单词间距</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文本装饰"><span class="nav-number">5.</span> <span class="nav-text">文本装饰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文本对齐"><span class="nav-number">6.</span> <span class="nav-text">文本对齐</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#垂直对齐"><span class="nav-number">7.</span> <span class="nav-text">垂直对齐</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他属性"><span class="nav-number">8.</span> <span class="nav-text">其他属性</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">hangweiping</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"hanghanghang"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

</body>
</html>
